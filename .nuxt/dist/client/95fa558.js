(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{194:function(t,e,n){"use strict";n.d(e,"p",(function(){return o})),n.d(e,"o",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"k",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"a",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"g",(function(){return h})),n.d(e,"i",(function(){return O})),n.d(e,"m",(function(){return j})),n.d(e,"d",(function(){return _})),n.d(e,"b",(function(){return w})),n.d(e,"f",(function(){return C})),n.d(e,"r",(function(){return y})),n.d(e,"l",(function(){return k})),n.d(e,"n",(function(){return A})),n.d(e,"c",(function(){return x})),n.d(e,"q",(function(){return P}));var r=n(63),o=function(t){return Object(r.a)({url:"/api/users/login",data:t})},c=function(t){return Object(r.a)({url:"/api/users",data:t})},l=function(t){return Object(r.a)({method:"get",url:"/api/articles",params:t})},f=function(t){return Object(r.a)({method:"get",url:"/api/tags",params:t})},d=function(t){return Object(r.a)({method:"get",url:"/api/articles/feed",params:t})},v=function(t){return Object(r.a)({method:"post",url:"/api/articles/".concat(t,"/favorite")})},m=function(t){return Object(r.a)({method:"delete",url:"/api/articles/".concat(t,"/favorite")})},h=function(t){return Object(r.a)({method:"get",url:"/api/articles/".concat(t)})},O=function(t){return Object(r.a)({method:"get",url:"/api/articles/".concat(t,"/comments")})},j=function(t){return Object(r.a)({method:"post",url:"/api/articles/".concat(t.article,"/comments"),data:t.data})},_=function(t){return Object(r.a)({method:"delete",url:"/api/articles/".concat(t.slug,"/comments/").concat(t.id)})},w=function(t){return Object(r.a)({url:"api/profiles/".concat(t,"/follow")})},C=function(t){return Object(r.a)({method:"delete",url:"api/profiles/".concat(t,"/follow")})},y=function(t){return Object(r.a)({method:"put",url:"/api/user",data:t})},k=function(t){return Object(r.a)({method:"get",url:"/api/profiles/".concat(t)})},A=function(t){return Object(r.a)({method:"post",url:"/api/articles",data:t})},x=function(t){return Object(r.a)({method:"delete",url:"/api/articles/".concat(t)})},P=function(t){return Object(r.a)({method:"put",url:"/api/articles/".concat(t.slug),data:t.data})}},272:function(t,e,n){"use strict";n.r(e);n(30),n(23),n(24),n(49),n(50);var r=n(19),o=n(4),c=(n(37),n(194)),l=n(40);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={middleware:"authenticated",name:"profile",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,e.next=3,Object(c.l)(n.username);case 3:return r=e.sent,e.abrupt("return",d({},r));case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{articles:[],tab:"my",pending:!1,followabled:!1}},mounted:function(){this.fetchArticles(this.tab)},methods:{fetchArticles:function(t){var e=this;if(!this.pending){this.pending=!0,this.articles=[],this.tab=t;var n={limit:5,offset:0};"my"===t&&(n.author=this.profile.username),"favorited"===t&&(n.favorited=this.profile.username),Object(c.h)(n).then((function(t){t.articles.forEach((function(t){t.favoriteAbled=!1})),e.articles=t.articles,e.pending=!1})).catch((function(){e.pending=!1}))}},favorite:function(t){t.favoriteAbled=!0,t.favorited?Object(c.e)(t.slug).then((function(){t.favorited=!1,t.favoritesCount-=1,t.favoriteAbled=!1})):Object(c.a)(t.slug).then((function(){t.favorited=!0,t.favoritesCount+=1,t.favoriteAbled=!1}))},followHandel:function(){var t=this,e=this.profile;this.followabled=!0,e.following?Object(c.f)(e.username).then((function(){e.following=!1,t.followabled=!1})):Object(c.b)(e.username).then((function(){e.following=!0,t.followabled=!1}))}},computed:d({},Object(l.c)(["user"]))},m=n(31),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile-page"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[n("img",{staticClass:"user-img",attrs:{src:t.profile.image}}),t._v(" "),n("h4",[t._v(t._s(t.profile.username))]),t._v(" "),n("p",[t._v(t._s(t.profile.bio))]),t._v(" "),t.profile.username!==t.user.username?n("button",{staticClass:"btn btn-sm btn-outline-secondary action-btn",attrs:{disabled:t.followabled},on:{click:t.followHandel}},[n("i",{staticClass:"ion-plus-round"}),t._v("Â "+t._s(t.profile.following?"Unfollow":"Follow")+" "+t._s(t.profile.username)+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),t.profile.username===t.user.username?n("nuxt-link",{staticClass:"btn btn-sm btn-outline-secondary action-btn",attrs:{to:"/settings"}},[n("i",{staticClass:"ion-gear-a"}),t._v(" Edit Profile Settings\n\t\t\t\t\t\t")]):t._e()],1)])])]),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[n("div",{staticClass:"articles-toggle"},[n("ul",{staticClass:"nav nav-pills outline-active"},[n("li",{staticClass:"nav-item"},[n("div",{staticClass:"nav-link",class:{active:"my"===t.tab},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.fetchArticles("my")}}},[t._v("My Articles")])]),t._v(" "),n("li",{staticClass:"nav-item"},[n("div",{staticClass:"nav-link",class:{active:"favorited"===t.tab},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.fetchArticles("favorited")}}},[t._v("Favorited Articles")])])])]),t._v(" "),t._l(t.articles,(function(e){return n("div",{key:e.slug,staticClass:"article-preview"},[n("div",{staticClass:"article-meta"},[n("nuxt-link",{attrs:{to:{name:"profile",params:{username:e.author.username}}}},[n("img",{attrs:{src:e.author.image}})]),t._v(" "),n("div",{staticClass:"info"},[n("nuxt-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:e.author.username}}}},[t._v(t._s(e.author.username))]),t._v(" "),n("span",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(e.createdAt,"MMM DD,YYYY")))])],1),t._v(" "),n("button",{staticClass:"btn btn-outline-primary btn-sm pull-xs-right",class:{active:e.favorited},attrs:{disabled:e.favoriteAbled},on:{click:function(n){return t.favorite(e)}}},[n("i",{staticClass:"ion-heart"}),t._v(" "+t._s(e.favoritesCount)+"\n\t\t\t\t\t\t\t")])],1),t._v(" "),n("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:e.slug}}}},[n("h1",[t._v(t._s(e.title))]),t._v(" "),n("p",[t._v(t._s(e.description))]),t._v(" "),n("span",[t._v("Read more...")])])],1)}))],2)])])])}),[],!1,null,null,null);e.default=component.exports}}]);